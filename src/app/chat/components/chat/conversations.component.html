<div class="cvs" *ngIf="view_chat">
  <app-userchat [chat]="chat"></app-userchat>
</div>

<div class="container">
  <div class="header">
    <h1>Chat</h1>
  </div>
  <div class="d-flex">
    <div class="container-chats">
      <div class="search">
        <mat-form-field class="example-form-field">
          <mat-label>Buscar</mat-label>
          <input matInput type="text" (keyup)="filterConversations()" [(ngModel)]="search_text" />
          <button
            *ngIf="search_text"
            matSuffix
            mat-icon-button
            aria-label="Clear"
            (click)="search_text = ''"
          >
            <mat-icon>close</mat-icon>
          </button>
          <button
            *ngIf="!search_text"
            matSuffix
            mat-icon-button
            aria-label="Search"
          >
            <mat-icon>search</mat-icon>
          </button>
        </mat-form-field>
      </div>

      <div class="chats">
        <div class="chat" *ngFor="let chat of all_conversations">
          <div class="img">
            <img
              [src]="chat.photo"
              alt="foto de perfil"
            />
          </div>

          <div class="container-chat" (click)="viewChat(chat)">
            <div class="d-flex-b">
              <div class="name">
                <span>{{ chat.name }}</span>
              </div>
              <div class="date">
                <span>{{ chat.date }}</span>
              </div>
            </div>
            <div class="d-flex-b">
              <div class="msg">
                <span>{{ chat.message }}</span>
              </div>
              <div class="amount">
                <span>{{ chat.amount_message }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
